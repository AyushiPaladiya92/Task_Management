{"ast":null,"code":"var _jsxFileName = \"D:\\\\taskmanager-main\\\\client\\\\src\\\\components\\\\AddUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSelector } from \"react-redux\";\nimport ModalWrapper from \"./ModalWrapper\";\nimport { Dialog } from \"@headlessui/react\";\nimport Textbox from \"./Textbox\";\nimport Loading from \"./Loader\";\nimport Button from \"./Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddUser = ({\n  open,\n  setOpen,\n  userData\n}) => {\n  _s();\n  const defaultValues = userData !== null && userData !== void 0 ? userData : {};\n  const {\n    user\n  } = useSelector(state => state.auth);\n\n  // Local state to manage loading\n  const [isLoading, setIsLoading] = useState(false);\n  const [isUpdating, setIsUpdating] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues\n  });\n  const handleOnSubmit = async data => {\n    setIsLoading(true);\n    try {\n      if (userData) {\n        // Update user logic\n        console.log(\"Updating user:\", data);\n        // Call your update user API here\n      } else {\n        // Add user logic\n        console.log(\"Adding user:\", data);\n        // Call your add user API here\n      }\n      // Optionally clear form or close modal\n      setOpen(false);\n    } catch (error) {\n      console.error(\"Error occurred:\", error);\n      // Handle error (e.g., show a notification)\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ModalWrapper, {\n    open: open,\n    setOpen: setOpen,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(handleOnSubmit),\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n        as: \"h2\",\n        className: \"text-base font-bold leading-6 text-gray-900 mb-4\",\n        children: userData ? \"UPDATE PROFILE\" : \"ADD NEW USER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex flex-col gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(Textbox, {\n          placeholder: \"Full name\",\n          type: \"text\",\n          name: \"name\",\n          label: \"Full Name\",\n          className: \"w-full rounded\",\n          register: register(\"name\", {\n            required: \"Full name is required!\"\n          }),\n          error: errors.name ? errors.name.message : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Textbox, {\n          placeholder: \"Title\",\n          type: \"text\",\n          name: \"title\",\n          label: \"Title\",\n          className: \"w-full rounded\",\n          register: register(\"title\", {\n            required: \"Title is required!\"\n          }),\n          error: errors.title ? errors.title.message : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Textbox, {\n          placeholder: \"Email Address\",\n          type: \"email\",\n          name: \"email\",\n          label: \"Email Address\",\n          className: \"w-full rounded\",\n          register: register(\"email\", {\n            required: \"Email Address is required!\"\n          }),\n          error: errors.email ? errors.email.message : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Textbox, {\n          placeholder: \"Role\",\n          type: \"text\",\n          name: \"role\",\n          label: \"Role\",\n          className: \"w-full rounded\",\n          register: register(\"role\", {\n            required: \"User role is required!\"\n          }),\n          error: errors.role ? errors.role.message : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), isLoading || isUpdating ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-5\",\n        children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-3 mt-4 sm:flex sm:flex-row-reverse\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: \"bg-blue-600 px-8 text-sm font-semibold text-white hover:bg-blue-700 sm:w-auto\",\n          label: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          className: \"bg-white px-5 text-sm font-semibold text-gray-900 sm:w-auto\",\n          onClick: () => setOpen(false),\n          label: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(AddUser, \"9xvgofazfNCDYm9XmG+xpX/AlrE=\", false, function () {\n  return [useSelector, useForm];\n});\n_c = AddUser;\nexport default AddUser;\nvar _c;\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"names":["React","useState","useForm","useSelector","ModalWrapper","Dialog","Textbox","Loading","Button","jsxDEV","_jsxDEV","AddUser","open","setOpen","userData","_s","defaultValues","user","state","auth","isLoading","setIsLoading","isUpdating","setIsUpdating","register","handleSubmit","formState","errors","handleOnSubmit","data","console","log","error","children","onSubmit","className","Title","as","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","name","label","required","message","title","email","role","onClick","_c","$RefreshReg$"],"sources":["D:/taskmanager-main/client/src/components/AddUser.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ModalWrapper from \"./ModalWrapper\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport Textbox from \"./Textbox\";\r\nimport Loading from \"./Loader\";\r\nimport Button from \"./Button\";\r\n\r\nconst AddUser = ({ open, setOpen, userData }) => {\r\n  const defaultValues = userData ?? {};\r\n  const { user } = useSelector((state) => state.auth);\r\n  \r\n  // Local state to manage loading\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm({ defaultValues });\r\n\r\n  const handleOnSubmit = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (userData) {\r\n        // Update user logic\r\n        console.log(\"Updating user:\", data);\r\n        // Call your update user API here\r\n      } else {\r\n        // Add user logic\r\n        console.log(\"Adding user:\", data);\r\n        // Call your add user API here\r\n      }\r\n      // Optionally clear form or close modal\r\n      setOpen(false);\r\n    } catch (error) {\r\n      console.error(\"Error occurred:\", error);\r\n      // Handle error (e.g., show a notification)\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ModalWrapper open={open} setOpen={setOpen}>\r\n      <form onSubmit={handleSubmit(handleOnSubmit)} className=''>\r\n        <Dialog.Title as='h2' className='text-base font-bold leading-6 text-gray-900 mb-4'>\r\n          {userData ? \"UPDATE PROFILE\" : \"ADD NEW USER\"}\r\n        </Dialog.Title>\r\n        <div className='mt-2 flex flex-col gap-6'>\r\n          <Textbox\r\n            placeholder='Full name'\r\n            type='text'\r\n            name='name'\r\n            label='Full Name'\r\n            className='w-full rounded'\r\n            register={register(\"name\", { required: \"Full name is required!\" })}\r\n            error={errors.name ? errors.name.message : \"\"}\r\n          />\r\n          <Textbox\r\n            placeholder='Title'\r\n            type='text'\r\n            name='title'\r\n            label='Title'\r\n            className='w-full rounded'\r\n            register={register(\"title\", { required: \"Title is required!\" })}\r\n            error={errors.title ? errors.title.message : \"\"}\r\n          />\r\n          <Textbox\r\n            placeholder='Email Address'\r\n            type='email'\r\n            name='email'\r\n            label='Email Address'\r\n            className='w-full rounded'\r\n            register={register(\"email\", { required: \"Email Address is required!\" })}\r\n            error={errors.email ? errors.email.message : \"\"}\r\n          />\r\n          <Textbox\r\n            placeholder='Role'\r\n            type='text'\r\n            name='role'\r\n            label='Role'\r\n            className='w-full rounded'\r\n            register={register(\"role\", { required: \"User role is required!\" })}\r\n            error={errors.role ? errors.role.message : \"\"}\r\n          />\r\n        </div>\r\n\r\n        {(isLoading || isUpdating) ? (\r\n          <div className='py-5'>\r\n            <Loading />\r\n          </div>\r\n        ) : (\r\n          <div className='py-3 mt-4 sm:flex sm:flex-row-reverse'>\r\n            <Button\r\n              type='submit'\r\n              className='bg-blue-600 px-8 text-sm font-semibold text-white hover:bg-blue-700 sm:w-auto'\r\n              label='Submit'\r\n            />\r\n            <Button\r\n              type='button'\r\n              className='bg-white px-5 text-sm font-semibold text-gray-900 sm:w-auto'\r\n              onClick={() => setOpen(false)}\r\n              label='Cancel'\r\n            />\r\n          </div>\r\n        )}\r\n      </form>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default AddUser;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}